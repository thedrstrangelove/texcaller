<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Texcaller: Texcaller C interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Texcaller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Texcaller C interface</div>  </div>
</div><!--header-->
<div class="contents">

<p>The Texcaller library is a convenient C interface to the <a href="http://www.tug.org/">TeX</a> command line tools.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Texcaller C interface:</div>
<div class="dyncontent">
<center><table><tr><td><img src="group__c.png" border="0" alt="" usemap="#group____c"/>
<map name="group____c" id="group____c">
<area shape="rect" id="node1" href="group__c__internals.html" title="Internals of the Texcaller\l C interface" alt="" coords="196,5,363,47"/>
</map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__c__internals"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c__internals.html">Internals of the Texcaller C interface</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad34091aa1bd6bf0a991ecaca0adfc94a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c.html#gad34091aa1bd6bf0a991ecaca0adfc94a">texcaller_convert</a> (char **result, size_t *result_size, char **info, const char *source, size_t source_size, const char *source_format, const char *result_format, int max_runs)</td></tr>
<tr class="memdesc:gad34091aa1bd6bf0a991ecaca0adfc94a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a TeX or LaTeX source to DVI or PDF.  <a href="#gad34091aa1bd6bf0a991ecaca0adfc94a">More...</a><br /></td></tr>
<tr class="separator:gad34091aa1bd6bf0a991ecaca0adfc94a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81130cbed69f76da8f074b34a3356131"><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__c.html#ga81130cbed69f76da8f074b34a3356131">texcaller_escape_latex</a> (const char *s)</td></tr>
<tr class="memdesc:ga81130cbed69f76da8f074b34a3356131"><td class="mdescLeft">&#160;</td><td class="mdescRight">Escape a string for direct use in LaTeX.  <a href="#ga81130cbed69f76da8f074b34a3356131">More...</a><br /></td></tr>
<tr class="separator:ga81130cbed69f76da8f074b34a3356131"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The Texcaller library is a convenient C interface to the <a href="http://www.tug.org/">TeX</a> command line tools. </p>
<p>The following example program demonstrates how this library is meant to be used:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;texcaller.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main()</div><div class="line">{</div><div class="line">    <span class="keywordtype">char</span> *latex =</div><div class="line">        <span class="stringliteral">&quot;\\documentclass{article}&quot;</span></div><div class="line">        <span class="stringliteral">&quot;\\begin{document}&quot;</span></div><div class="line">        <span class="stringliteral">&quot;Hello world!&quot;</span></div><div class="line">        <span class="stringliteral">&quot;\\end{document}&quot;</span>;</div><div class="line"></div><div class="line">    <span class="keywordtype">char</span> *pdf;</div><div class="line">    <span class="keywordtype">size_t</span> pdf_size;</div><div class="line">    <span class="keywordtype">char</span> *info;</div><div class="line"></div><div class="line">    <a class="code" href="group__c.html#gad34091aa1bd6bf0a991ecaca0adfc94a">texcaller_convert</a>(&amp;pdf, &amp;pdf_size, &amp;info,</div><div class="line">                      latex, strlen(latex), <span class="stringliteral">&quot;LaTeX&quot;</span>, <span class="stringliteral">&quot;PDF&quot;</span>, 5);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (pdf == NULL) {</div><div class="line">        printf(<span class="stringliteral">&quot;Error: %s\n&quot;</span>, info == NULL ? <span class="stringliteral">&quot;Out of memory.&quot;</span> : info);</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        printf(<span class="stringliteral">&quot;Generated PDF of %i bytes. Details:\n\n%s&quot;</span>, (<span class="keywordtype">int</span>)pdf_size, info);</div><div class="line">    }</div><div class="line"></div><div class="line">    free(pdf);</div><div class="line">    free(info);</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --><p>Since Texcaller supports <a href="http://pkg-config.freedesktop.org/">pkg-config</a>, compiling and linking in a portable way is as simple as:</p>
<div class="fragment"><div class="line">cc -o example example.c `pkg-config <a class="code" href="namespacetexcaller.html">texcaller</a> --cflags --libs`</div></div><!-- fragment --><p>Assuming that everything is installed in default locations on your system, the following simpler command will also work. However, don't hard code that into your build system!</p>
<div class="fragment"><div class="line">cc -o example example.c -ltexcaller</div></div><!-- fragment --> <h2 class="groupheader">Function Documentation</h2>
<a id="gad34091aa1bd6bf0a991ecaca0adfc94a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad34091aa1bd6bf0a991ecaca0adfc94a">&#9670;&nbsp;</a></span>texcaller_convert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void texcaller_convert </td>
          <td>(</td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>result_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>source_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>source_format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>result_format</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>max_runs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a TeX or LaTeX source to DVI or PDF. </p>
<p>This function is reentrant. Temporary files are always cleaned up. The TeX interpreter is automatically re-run as often as necessary until the output becomes stable. The interpreter is always run in batch mode and is disconnected from stdin, stdout and stderr. That way, it won't ever get in your way even if there are issues with your input source. Instead, all important information is simply collected in the <code>info</code> string.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>will be set to a newly allocated buffer that contains the generated document, or <code>NULL</code> if an error occured.</td></tr>
    <tr><td class="paramname">result_size</td><td>will be set to the size of <code>result</code>, or 0 if <code>result</code> is <code>NULL</code>.</td></tr>
    <tr><td class="paramname">info</td><td>will be set to a newly allocated string that contains additional information such as an error message or TeX warnings. When out of memory, <code>info</code> will be set to <code>NULL</code> (and <code>result</code> will be set to <code>NULL</code>, too).</td></tr>
    <tr><td class="paramname">source</td><td>the source to convert</td></tr>
    <tr><td class="paramname">source_size</td><td>size of <code>source</code> </td></tr>
    <tr><td class="paramname">source_format</td><td>must be one of:<ul>
<li><code>"TeX"</code> </li>
<li><code>"LaTeX"</code> </li>
<li><code>"XeTeX"</code> </li>
<li><code>"XeLaTeX"</code> </li>
<li><code>"LuaTeX"</code> </li>
<li><code>"LuaLaTeX"</code> </li>
</ul>
</td></tr>
    <tr><td class="paramname">result_format</td><td>must be one of:<ul>
<li><code>"DVI"</code> (only for source formats <code>"TeX"</code> and <code>"LaTeX"</code>)</li>
<li><code>"PDF"</code> </li>
</ul>
</td></tr>
    <tr><td class="paramname">max_runs</td><td>maximum number of TeX runs, must be ≥ 2. If the output doesn't stabilize after <code>max_runs</code> runs, the function will fail and <code>result</code> will be set to <code>NULL</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga81130cbed69f76da8f074b34a3356131"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81130cbed69f76da8f074b34a3356131">&#9670;&nbsp;</a></span>texcaller_escape_latex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char * texcaller_escape_latex </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Escape a string for direct use in LaTeX. </p>
<p>That is, all LaTeX special characters are replaced with proper LaTeX elements. Note that all other unicode characters remain as they are, so be sure to use the <code>inputenc</code> package in your LaTeX document:</p>
<div class="fragment"><div class="line">\usepackage[utf8x]{inputenc}</div></div><!-- fragment --><p>For example, the following string:</p>
<pre class="fragment">Téxt → "with" $peciäl &lt;characters&gt;
</pre><p>is escaped to:</p>
<pre class="fragment">Téxt → {''}with{''} \$peciäl \textless{}characters\textgreater{}
</pre><p>This function is reentrant.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>the string to escape</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a newly allocated string containing the escaped value, or <code>NULL</code> when out of memory. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
